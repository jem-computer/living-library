---
phase: 07-gsd-enhancements
plan: 04
type: execute
wave: 3
depends_on: ["07-03"]
files_modified:
  - src/lib/navigation.js
  - src/styles/visualizations.css
  - src/pages/index.astro
autonomous: true

must_haves:
  truths:
    - "Navigation sidebar includes links to /todos, /dependencies, /roadmap"
    - "Visualization pages have consistent styling matching site theme"
    - "Home page links to new visualization pages"
  artifacts:
    - path: "src/lib/navigation.js"
      provides: "Updated navigation tree with GSD pages"
      min_lines: 50
    - path: "src/styles/visualizations.css"
      provides: "Shared styles for visualization pages"
      min_lines: 60
  key_links:
    - from: "src/lib/navigation.js"
      to: "GSD pages"
      via: "hardcoded nav items"
      pattern: "todos|dependencies|roadmap"
    - from: "src/pages/todos.astro"
      to: "src/styles/visualizations.css"
      via: "CSS import"
      pattern: "visualizations.css"
---

<objective>
Wire the new visualization pages into site navigation and add shared CSS styles.

Purpose: Success Criteria 4 requires all visualization pages are linked from navigation
Output: Updated navigation module and shared visualization styles
</objective>

<execution_context>
@/Users/jem/.claude/get-shit-done/workflows/execute-plan.md
@/Users/jem/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/07-gsd-enhancements/07-CONTEXT.md
@.planning/phases/07-gsd-enhancements/07-03-SUMMARY.md
@src/lib/navigation.js
@src/styles/global.css
@src/pages/index.astro
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update src/lib/navigation.js to include GSD pages</name>
  <files>src/lib/navigation.js</files>
  <action>
Update the navigation module to include the new visualization pages in the sidebar.

Changes needed:
1. **Add GSD section** to the navigation tree:
   - Create a top-level "GSD" or "Visualizations" group
   - Include links to: /todos, /dependencies, /roadmap, /timeline (existing)

2. **Modify buildNavTree function**:
   - After building dynamic tree from docs, prepend/append special pages
   - Add a "GSD" section with hardcoded items:
     ```javascript
     const gsdSection = {
       name: 'GSD',
       path: null,
       children: [
         { name: 'Roadmap', path: '/roadmap', children: [] },
         { name: 'Timeline', path: '/timeline', children: [] },
         { name: 'Dependencies', path: '/dependencies', children: [] },
         { name: 'Todos', path: '/todos', children: [] }
       ]
     };
     ```

3. **Position in nav**:
   - Put GSD section at the TOP of navigation (before content folders)
   - This makes the overview pages prominent and easy to find

4. **Keep existing behavior**:
   - Dynamic tree from .planning folder content still works
   - Only adding the special pages section

Example structure after change:
```
GSD
  Roadmap
  Timeline
  Dependencies
  Todos
phases/
  01-cli-foundation/
  02-content-navigation/
  ...
milestones/
PROJECT.md
STATE.md
```
  </action>
  <verify>
Start dev server and check sidebar:
- "GSD" section appears at top
- Links to /roadmap, /timeline, /dependencies, /todos visible
- Clicking each link navigates correctly
- Dynamic content tree still appears below
  </verify>
  <done>Navigation sidebar includes GSD section with links to all visualization pages</done>
</task>

<task type="auto">
  <name>Task 2: Create src/styles/visualizations.css with shared styles</name>
  <files>src/styles/visualizations.css</files>
  <action>
Create shared CSS styles for the visualization pages that complement global.css.

Include:
1. **Page layout utilities**:
   ```css
   .viz-page {
     max-width: 1200px;
     margin: 0 auto;
     padding: var(--spacing-xl);
   }

   .viz-header {
     margin-bottom: var(--spacing-xxl);
   }

   .viz-header h1 {
     margin: 0 0 var(--spacing-sm) 0;
     font-size: 2.5rem;
     font-weight: 700;
     color: var(--text-primary);
   }

   .viz-description {
     margin: 0;
     font-size: var(--font-size-lg);
     color: var(--text-secondary);
   }
   ```

2. **Kanban board styles** (for roadmap page):
   ```css
   .kanban-board {
     display: grid;
     grid-template-columns: repeat(3, 1fr);
     gap: var(--spacing-lg);
   }

   .kanban-column {
     background: var(--bg-secondary);
     border-radius: 8px;
     padding: var(--spacing-md);
     min-height: 300px;
   }

   .kanban-column[data-status="pending"] { border-top: 3px solid var(--text-muted); }
   .kanban-column[data-status="active"] { border-top: 3px solid var(--link-color); }
   .kanban-column[data-status="complete"] { border-top: 3px solid var(--text-success, #10b981); }

   .column-header {
     display: flex;
     justify-content: space-between;
     align-items: center;
     margin-bottom: var(--spacing-md);
     font-size: var(--font-size-lg);
     font-weight: 600;
   }

   .column-count {
     background: var(--bg-primary);
     padding: 2px 8px;
     border-radius: 12px;
     font-size: var(--font-size-sm);
   }

   .phase-card {
     display: block;
     background: var(--bg-primary);
     border: 1px solid var(--border-color);
     border-radius: 6px;
     padding: var(--spacing-md);
     margin-bottom: var(--spacing-sm);
     text-decoration: none;
     color: inherit;
     transition: box-shadow var(--transition-fast);
   }

   .phase-card:hover {
     box-shadow: 0 2px 8px rgba(0,0,0,0.1);
     border-color: var(--link-color);
   }
   ```

3. **Todo list styles** (for todos page):
   ```css
   .todo-area {
     margin-bottom: var(--spacing-xl);
   }

   .area-title {
     font-size: var(--font-size-lg);
     font-weight: 600;
     margin: 0 0 var(--spacing-md) 0;
     padding-bottom: var(--spacing-sm);
     border-bottom: 1px solid var(--border-color);
     text-transform: capitalize;
   }

   .todo-list {
     list-style: none;
     padding: 0;
     margin: 0;
   }

   .todo-item {
     display: flex;
     gap: var(--spacing-md);
     padding: var(--spacing-md);
     border-left: 3px solid var(--text-muted);
     background: var(--bg-secondary);
     margin-bottom: var(--spacing-sm);
     border-radius: 0 6px 6px 0;
   }

   .todo-item[data-checked="true"] {
     border-left-color: var(--text-success, #10b981);
     opacity: 0.7;
   }

   .todo-check {
     font-size: var(--font-size-lg);
     width: 24px;
     text-align: center;
   }

   .todo-item[data-checked="true"] .todo-check {
     color: var(--text-success, #10b981);
   }

   .todo-content {
     flex: 1;
   }

   .todo-title {
     display: block;
     font-weight: 500;
     margin-bottom: var(--spacing-xs);
   }

   .todo-source {
     font-size: var(--font-size-sm);
     color: var(--text-muted);
     background: var(--bg-primary);
     padding: 2px 6px;
     border-radius: 4px;
   }
   ```

4. **Graph container styles** (for dependencies page):
   ```css
   .graph-container {
     width: 100%;
     height: 500px;
     background: var(--bg-secondary);
     border: 1px solid var(--border-color);
     border-radius: 8px;
     position: relative;
   }

   .graph-legend {
     display: flex;
     gap: var(--spacing-lg);
     margin-top: var(--spacing-md);
     justify-content: center;
   }

   .legend-item {
     display: flex;
     align-items: center;
     gap: var(--spacing-xs);
     font-size: var(--font-size-sm);
   }

   .legend-dot {
     width: 12px;
     height: 12px;
     border-radius: 50%;
   }

   .legend-dot--complete { background: #10b981; }
   .legend-dot--active { background: #3b82f6; }
   .legend-dot--pending { background: #6b7280; }
   ```

5. **Milestone tabs** (for roadmap page):
   ```css
   .milestone-tabs {
     display: flex;
     gap: var(--spacing-sm);
     margin-bottom: var(--spacing-lg);
     border-bottom: 1px solid var(--border-color);
     padding-bottom: var(--spacing-sm);
   }

   .milestone-tab {
     padding: var(--spacing-sm) var(--spacing-md);
     border: none;
     background: transparent;
     cursor: pointer;
     font-size: var(--font-size-base);
     color: var(--text-secondary);
     border-radius: 6px 6px 0 0;
   }

   .milestone-tab:hover {
     background: var(--bg-hover);
   }

   .milestone-tab.active {
     color: var(--text-primary);
     background: var(--bg-secondary);
     font-weight: 600;
   }
   ```

6. **Responsive overrides**:
   ```css
   @media (max-width: 768px) {
     .kanban-board {
       grid-template-columns: 1fr;
     }

     .viz-page {
       padding: var(--spacing-lg);
     }

     .graph-container {
       height: 400px;
     }
   }
   ```
  </action>
  <verify>
Styles file exists and has no syntax errors:
```bash
ls -la src/styles/visualizations.css
```
Then visually verify pages look correct with dev server.
  </verify>
  <done>src/styles/visualizations.css exists with shared styles for all visualization pages</done>
</task>

<task type="auto">
  <name>Task 3: Update src/pages/index.astro with links to new pages</name>
  <files>src/pages/index.astro</files>
  <action>
Update the home page to include prominent links to the new visualization pages.

Changes:
1. **Add quick links section** after the welcome message:
   - Grid of 4 cards linking to: Roadmap, Timeline, Dependencies, Todos
   - Each card has: icon, title, brief description
   - Styled as clickable cards with hover effect

2. **Card content**:
   - Roadmap: "View phase status and progress"
   - Timeline: "Milestone history and completion"
   - Dependencies: "See how phases connect"
   - Todos: "Outstanding tasks and improvements"

3. **Use simple inline SVG icons** or emoji for each card

Example markup to add:
```astro
<section class="quick-links">
  <h2>Quick Links</h2>
  <div class="links-grid">
    <a href="/roadmap" class="link-card">
      <span class="link-icon">ðŸ“‹</span>
      <span class="link-title">Roadmap</span>
      <span class="link-desc">View phase status and progress</span>
    </a>
    <a href="/timeline" class="link-card">
      <span class="link-icon">ðŸ“…</span>
      <span class="link-title">Timeline</span>
      <span class="link-desc">Milestone history and completion</span>
    </a>
    <a href="/dependencies" class="link-card">
      <span class="link-icon">ðŸ”—</span>
      <span class="link-title">Dependencies</span>
      <span class="link-desc">See how phases connect</span>
    </a>
    <a href="/todos" class="link-card">
      <span class="link-icon">âœ…</span>
      <span class="link-title">Todos</span>
      <span class="link-desc">Outstanding tasks and improvements</span>
    </a>
  </div>
</section>
```

Add scoped styles for the links grid matching site theme.
  </action>
  <verify>
Start dev server and visit home page:
- Quick links section visible
- All four cards present and styled
- Clicking each card navigates to correct page
  </verify>
  <done>Home page includes quick links section to all visualization pages</done>
</task>

</tasks>

<verification>
1. Navigation sidebar shows GSD section with all four pages
2. visualizations.css provides consistent styling
3. Home page has quick links to all visualization pages
4. All links work correctly
5. Styling is consistent with site theme (light/dark mode)
</verification>

<success_criteria>
- GSD section appears at top of navigation
- All four pages (roadmap, timeline, dependencies, todos) accessible from nav
- Shared CSS file reduces duplication across pages
- Home page provides easy access to visualization features
- Responsive design maintained
</success_criteria>

<output>
After completion, create `.planning/phases/07-gsd-enhancements/07-04-SUMMARY.md`
</output>
